import{r as c,o as r,c as i,b as s,a as o,F as p,e,d as n}from"./app.d1ef40ff.js";import{_ as d}from"./plugin-vue_export-helper.21dcd24c.js";const t={},l=e(`<h1 id="docker\u5B89\u88C5redis" tabindex="-1"><a class="header-anchor" href="#docker\u5B89\u88C5redis" aria-hidden="true">#</a> docker\u5B89\u88C5redis</h1><p>Redis \u662F\u4E00\u4E2A\u5F00\u6E90\u7684\u4F7F\u7528 ANSI C \u8BED\u8A00\u7F16\u5199\u3001\u652F\u6301\u7F51\u7EDC\u3001\u53EF\u57FA\u4E8E\u5185\u5B58\u4EA6\u53EF\u6301\u4E45\u5316\u7684\u65E5\u5FD7\u578B\u3001Key-Value \u7684 NoSQL \u6570\u636E\u5E93\uFF0C\u5E76\u63D0\u4F9B\u591A\u79CD\u8BED\u8A00\u7684 API\u3002</p><h2 id="\u62C9\u53D6\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u62C9\u53D6\u955C\u50CF" aria-hidden="true">#</a> \u62C9\u53D6\u955C\u50CF</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull redis
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="\u8FD0\u884C\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u8FD0\u884C\u5BB9\u5668" aria-hidden="true">#</a> \u8FD0\u884C\u5BB9\u5668</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -itd --name redis-test -p <span class="token number">6379</span>:6379 redis
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u8BBE\u7F6E\u5BC6\u7801</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -itd --name redis-test -p <span class="token number">6379</span>:6379 redis --requirepass <span class="token number">123456</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>--requirepass 123456</code> \u8BBE\u7F6Eredis\u5BC6\u7801\u4E3A123456</li></ul><h2 id="redis-cli" tabindex="-1"><a class="header-anchor" href="#redis-cli" aria-hidden="true">#</a> redis-cli</h2><p><code>redis-cli</code>\u662Fredis\u7684\u8FD0\u884C\u547D\u4EE4</p><p>\u901A\u8FC7<code>redis-cli</code>\u8FDE\u63A5\u6D4B\u8BD5\u4F7F\u7528redis\u670D\u52A1\u793A\u4F8B\u5982\u4E0B</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u8FDB\u5165redis\u5BB9\u5668</span>
<span class="token punctuation">[</span>root@sadf09234lwe ~<span class="token punctuation">]</span>$ <span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it redis-test <span class="token function">bash</span>
<span class="token comment"># \u8FD0\u884Credis-cli</span>
root@d83b613fdfeb:/data$ redis-cli
<span class="token comment"># \u6267\u884C\u547D\u4EE4</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> abc <span class="token number">123</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get abc
<span class="token string">&quot;123&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="\u6267\u884C\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u6267\u884C\u547D\u4EE4" aria-hidden="true">#</a> \u6267\u884C\u547D\u4EE4</h3><ul><li><code>set key value</code> \u8BBE\u7F6E<code>key</code>\u7684\u503C\u4E3A<code>value</code></li><li><code>get key</code> \u83B7\u53D6<code>key</code>\u7684\u503C</li><li><code>config get requirepass</code> \u67E5\u770Bredis\u5BC6\u7801</li><li><code>config set requirepass ****</code> \u8BBE\u7F6E\u6216\u4FEE\u6539redis\u5BC6\u7801</li><li><code>auth ****</code> \u8BA4\u8BC1\u767B\u5F55\u5BC6\u7801\uFF0C\u6267\u884C\u5176\u5B83\u547D\u4EE4\u63D0\u793A<code>(error) NOAUTH Authentication required.</code>\u65F6\u9700\u8981\u5148\u8BA4\u8BC1</li></ul><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p><code>Redis Desktop Manager</code>\u53EF\u89C6\u5316\u5DE5\u5177\u53EF\u4EE5\u67E5\u770B\u7BA1\u7406Redis</p></div><h2 id="\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> \u914D\u7F6E\u6587\u4EF6</h2>`,17),u={href:"https://redis.io/topics/config",target:"_blank",rel:"noopener noreferrer"},b=n("Redis\u5B98\u7F51"),m=n("\u4E2D\u6709\u8FD9\u4E48\u4E00\u6BB5\u8BDD"),k=e(`<blockquote><p>Redis is able to start without a configuration file using a built-in default configuration, however this setup is only recommended for testing and development purposes.</p><p>The proper way to configure Redis is by providing a Redis configuration file, usually called redis.conf.</p></blockquote><p>\u7FFB\u8BD1\u4E00\u4E0B\u5C31\u662F\uFF1A</p><blockquote><p>Redis\u53EF\u4EE5\u5728\u6CA1\u6709\u914D\u7F6E\u6587\u4EF6\u7684\u60C5\u51B5\u4E0B\u4F7F\u7528\u5185\u7F6E\u7684\u9ED8\u8BA4\u914D\u7F6E\u542F\u52A8\uFF0C\u4F46\u662F\u8FD9\u79CD\u8BBE\u7F6E\u4EC5\u7528\u4E8E\u6D4B\u8BD5\u548C\u5F00\u53D1\u76EE\u7684\u3002</p><p>\u800C\u6B63\u786E\u7684\u65B9\u6CD5\u662F\u63D0\u4F9B\u4E00\u4E2ARedis\u914D\u7F6E\u6587\u4EF6\uFF0C\u901A\u5E38\u79F0\u4E3A<code>Redis.conf</code>\u3002</p></blockquote><p>\u8FD9\u662F\u4EC0\u4E48\u610F\u601D\u5462\uFF1F\u5C31\u662F\u8BF4\u901A\u8FC7\u9ED8\u8BA4\u7684\u914D\u7F6E\u6587\u4EF6\u542F\u52A8Redis\u662F\u4E0D\u5B89\u5168\u7684\uFF0C\u53EA\u9002\u5408\u4E8E\u6D4B\u8BD5\u548C\u5F00\u53D1\uFF0C\u8981\u4E0A\u751F\u4EA7\u8FD8\u5F97\u4F7F\u7528\u914D\u7F6E\u6587\u4EF6\u7684\u65B9\u5F0F\u6765\u542F\u52A8</p><p>\u5B98\u7F51\u4E5F\u6839\u636ERedis\u5404\u4E2A\u7248\u672C\u63D0\u4F9B\u4E86\u4E0D\u540C\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u53EF\u4EE5\u5148\u628A\u6587\u4EF6\u4E0B\u8F7D\u5230\u4E3B\u673A\u4E2D\uFF0C\u7136\u540E\u901A\u8FC7\u76EE\u5F55\u6620\u5C04\u7684\u65B9\u5F0F\u542F\u52A8Redis</p><p>\u521B\u5EFA<code>/srv/redis/etc</code>\u76EE\u5F55</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> -p /srv/redis/etc
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u4E0B\u8F7Dredis.conf\u6587\u4EF6</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /srv/redis/etc
<span class="token function">wget</span> http://download.redis.io/redis-stable/redis.conf
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p><em><strong>\u7531\u4E8E\u7F51\u7EDC\u539F\u56E0\u53EF\u4EE5\u5728\u672C\u5730\u521B\u5EFA<code>redis.conf</code>\u6587\u4EF6\uFF0C\u7136\u540E\u5C06\u5B98\u7F51\u914D\u7F6E\u6587\u4EF6\u7684\u5185\u5BB9\u76F4\u63A5\u590D\u5236\u5230\u8BE5\u6587\u4EF6</strong></em></p></blockquote><p>\u5728<code>/srv/redis/etc</code>\u76EE\u5F55\u4E2D\u65B0\u5EFA<code>redis.conf</code>\u6587\u4EF6</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">touch</span> /srv/redis/etc/redis.conf
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u628A\u5B98\u7F51\u914D\u7F6E\u6587\u4EF6\u5185\u5BB9\u590D\u5236\u5230\u8BE5\u6587\u4EF6\uFF0C\u7136\u540E\u6211\u4EEC\u6839\u636E\u9700\u8981\u5BF9\u90E8\u5206\u53C2\u6570\u8FDB\u884C\u4FEE\u6539\uFF0C<strong>\u6700\u7EC8\u914D\u7F6E\u8BF7\u4EE5\u81EA\u8EAB\u9700\u6C42\u4E3A\u51C6</strong></p><ul><li><code># bind 127.0.0.1</code> \u5141\u8BB8\u8BBF\u95EERedis\u670D\u52A1\u7684IP\u5730\u5740\uFF0C\u5982\u679C\u9700\u8981\u8FDC\u7A0B\u8BBF\u95EE\u4FEE\u6539\u4E3A\u9700\u8981\u8BBF\u95EE\u6B64\u6570\u636E\u5E93\u7684<code>IP\u5730\u5740</code>\u6216\u76F4\u63A5<code>\u6CE8\u91CA</code>\u6216\u6539\u4E3A<code>bind *</code>\uFF0C\u8BE5\u5C5E\u6027\u7ED3\u5408<code>protected-mode</code>\u63A7\u5236\u662F\u5426\u5141\u8BB8\u8FDC\u7A0B\u8BBF\u95EE</li><li><code>protected-mode no</code> \u4FDD\u62A4\u6A21\u5F0F\uFF0C\u8BE5\u6A21\u5F0F\u63A7\u5236\u5916\u90E8\u7F51\u662F\u5426\u53EF\u4EE5\u8FDE\u63A5redis\u670D\u52A1</li><li><code>daemonize yes</code> \u5B88\u62A4\u8FDB\u7A0B\u65B9\u5F0F\u8FD0\u884C\uFF0C\u5982\u679C\u542F\u7528\u5B88\u62A4\u8FDB\u7A0B\u5219\u4F1A\u5728\u540E\u53F0\u8FD0\u884C\u3002\u5982\u679Cdocker run\u547D\u4EE4\u8FD0\u884C\u5E76\u4E14\u52A0\u4E86<code>-d</code>\uFF0C\u8FD9\u91CC\u5C31\u8981\u6539\u4E3Ano\uFF0C\u5426\u5219\u65E0\u6CD5\u542F\u52A8</li><li><code>requirepass [password]</code> \u6DFB\u52A0\u8BBF\u95EE\u5BC6\u7801</li><li><code>appendonly yes</code> \u6BCF\u6B21\u66F4\u65B0\u64CD\u4F5C\u540E\u8FDB\u884C\u65E5\u5FD7\u8BB0\u5F55\uFF0CRedis\u9ED8\u8BA4\u662F\u5F02\u6B65\u628A\u6570\u636E\u5199\u5165\u78C1\u76D8\uFF0C\u5982\u679C\u4E0D\u542F\u7528\u53EF\u80FD\u4F1A\u5728\u65AD\u7535\u65F6\u5BFC\u81F4\u4E00\u6BB5\u65F6\u95F4\u5185\u7684\u6570\u636E\u4E22\u5931</li><li><code>port 6379</code> \u5BB9\u5668\u670D\u52A1\u7684\u7AEF\u53E3\u53F7\uFF0C\u9ED8\u8BA4\u4E3A6379(MERZ)</li></ul><h3 id="\u8FD0\u884Cdocker" tabindex="-1"><a class="header-anchor" href="#\u8FD0\u884Cdocker" aria-hidden="true">#</a> \u8FD0\u884Cdocker</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run --name redis <span class="token punctuation">\\</span>
    -p <span class="token number">6379</span>:6379 <span class="token punctuation">\\</span>
    -v /srv/redis/etc/redis.conf:/etc/redis/redis.conf <span class="token punctuation">\\</span>
    -v /srv/redis/data:/data <span class="token punctuation">\\</span>
    redis <span class="token punctuation">\\</span>
    redis-server /etc/redis/redis.conf
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="docker-compose-yml" tabindex="-1"><a class="header-anchor" href="#docker-compose-yml" aria-hidden="true">#</a> docker-compose.yml</h3><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> redis
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> redis
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 6380<span class="token punctuation">:</span><span class="token number">6379</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /srv/redis/data<span class="token punctuation">:</span>/data<span class="token punctuation">:</span>rw
      <span class="token punctuation">-</span> /srv/redis/etc/redis.conf<span class="token punctuation">:</span>/etc/redis/redis.conf<span class="token punctuation">:</span>rw
    <span class="token key atrule">command</span><span class="token punctuation">:</span>
      redis<span class="token punctuation">-</span>server /etc/redis/redis.conf
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div>`,18);function h(g,v){const a=c("ExternalLinkIcon");return r(),i(p,null,[l,s("p",null,[s("a",u,[b,o(a)]),m]),k],64)}var x=d(t,[["render",h]]);export{x as default};
