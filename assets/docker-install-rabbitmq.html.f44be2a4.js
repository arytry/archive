import{e as a}from"./app.d1ef40ff.js";import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";const e={},s=a(`<h1 id="docker\u5B89\u88C5rabbitmq" tabindex="-1"><a class="header-anchor" href="#docker\u5B89\u88C5rabbitmq" aria-hidden="true">#</a> docker\u5B89\u88C5rabbitmq</h1><div class="custom-container warning"><p class="custom-container-title">\u8BF4\u660E</p><p>\u4EE5\u4E0B\u5185\u5BB9\u9700\u8981\u6709\u4E00\u5B9A\u7684docker\u57FA\u7840\uFF0C\u5E76\u4E14\u9700\u8981\u5728\u5DF2\u7ECF\u5B89\u88C5\u4E86<code>docker</code>\u73AF\u5883\u4E2D\u8FD0\u884C</p></div><h2 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull rabbitmq
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u8FD9\u6837\u9ED8\u8BA4\u62C9\u53D6\u7684\u662F<code>latest</code>\u7248\u672C\uFF0C\u8BE5\u7248\u672C\u9ED8\u8BA4\u6CA1\u6709\u7BA1\u7406\u754C\u9762\uFF0C\u5982\u679C\u9700\u8981\u7BA1\u7406\u754C\u9762\u6211\u4EEC\u53EF\u4EE5\u6784\u5EFA\u5BB9\u5668\u540E\u5728\u5BB9\u5668\u4E2D\u542F\u7528\u63A7\u5236\u53F0\u63D2\u4EF6</p><p>\u6216\u8005\u76F4\u63A5\u62C9\u53D6<code>management</code>\u7248\u672C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull rabbitmq:management
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="\u8FD0\u884C" tabindex="-1"><a class="header-anchor" href="#\u8FD0\u884C" aria-hidden="true">#</a> \u8FD0\u884C</h2><h3 id="\u6700\u5C0F\u5316\u6784\u5EFA" tabindex="-1"><a class="header-anchor" href="#\u6700\u5C0F\u5316\u6784\u5EFA" aria-hidden="true">#</a> \u6700\u5C0F\u5316\u6784\u5EFA</h3><p>\u9ED8\u8BA4<code>latest</code>\u7248\u672C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run --name<span class="token operator">=</span>rabbitmq -p <span class="token number">15672</span>:15672 -p <span class="token number">5672</span>:5672 -d rabbitmq
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>--name=rabbitmq</code> \u5BB9\u5668\u547D\u540D\u4E3Arabbitmq</li><li><code>-p 15672:15672</code> \u5C06\u5BB9\u5668\u768415672\u7AEF\u53E3\u6620\u5C04\u5230\u5BBF\u4E3B\u673A\u768415672\u7AEF\u53E3\uFF0C<code>15672</code>\u662F\u7BA1\u7406\u754C\u9762\u7AEF\u53E3</li><li><code>-p 5672:5672</code> \u5C06\u5BB9\u5668\u76845672\u7AEF\u53E3\u6620\u5C04\u5230\u5BBF\u4E3B\u673A\u76845672\u7AEF\u53E3\uFF0C<code>5672</code>\u662F\u670D\u52A1\u7AEF\u53E3</li></ul><p>\u5982\u679C\u6211\u4EEC\u62C9\u53D6\u7684\u662F<code>management</code>\u7248\u672C\uFF0C\u8BB0\u5F97\u5728\u5BB9\u5668\u540E\u9762\u52A0\u4E0A<code>management</code>\u6807\u7B7E</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run --name<span class="token operator">=</span>rabbitmq -p <span class="token number">15672</span>:15672 -p <span class="token number">5672</span>:5672 -d rabbitmq:management
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="custom-container warning"><p class="custom-container-title">\u5907\u6CE8</p><p>\u5982\u679C\u62C9\u53D6\u7684\u662F<code>management</code>\u7248\u672C\uFF0C\u4F46\u662F\u6784\u5EFA\u5BB9\u5668\u65F6\u6CA1\u6709\u52A0\u8BE5\u6807\u7B7E\uFF0C\u7CFB\u7EDF\u4F1A\u5148\u62C9\u53D6<code>latest</code>\u7248\u672C\u540E\u518D\u8FD0\u884C</p></div><p>\u5982\u679C\u662F\u901A\u8FC7<code>management</code>\u6807\u7B7E\u6784\u5EFA\u7684\u5BB9\u5668\uFF0C\u73B0\u5728\u6211\u4EEC\u5C31\u53EF\u4EE5\u8BBF\u95EE<code>http://\u5BBF\u4E3B\u673Aip:15672</code>\u6253\u5F00\u7BA1\u7406\u63A7\u5236\u53F0\u754C\u9762\u4E86\uFF0C\u5F53\u7136\u5982\u679C\u73AF\u5883\u6709\u7AEF\u53E3\u9650\u5236\u8FD8\u9700\u8981\u5148\u542F\u7528<code>15672</code>\u7AEF\u53E3\u624D\u884C</p><h3 id="\u63A7\u5236\u53F0\u63D2\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u63A7\u5236\u53F0\u63D2\u4EF6" aria-hidden="true">#</a> \u63A7\u5236\u53F0\u63D2\u4EF6</h3><p>\u5982\u679C\u662F\u7528\u9ED8\u8BA4<code>latest</code>\u7248\u672C\u6784\u5EFA\u5BB9\u5668\uFF0C\u4E5F\u662F\u53EF\u4EE5\u6253\u5F00\u63A7\u5236\u53F0\u754C\u9762\u7684\uFF0C\u8FDB\u5165\u5BB9\u5668\u901A\u8FC7\u547D\u4EE4\u542F\u7528\u63A7\u5236\u53F0\u63D2\u4EF6\uFF0C\u7136\u540E\u91CD\u542F\u5BB9\u5668\u5373\u53EF</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u8FDB\u5165\u5BB9\u5668</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it rabbitmq /bin/bash

<span class="token comment"># \u542F\u7528\u63A7\u5236\u53F0\u63D2\u4EF6</span>
rabbitmq-plugins <span class="token builtin class-name">enable</span> rabbitmq_management

<span class="token comment"># \u91CD\u542F\u5BB9\u5668</span>
<span class="token function">docker</span> restart rabbitmq
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="\u521D\u59CB\u8D26\u53F7" tabindex="-1"><a class="header-anchor" href="#\u521D\u59CB\u8D26\u53F7" aria-hidden="true">#</a> \u521D\u59CB\u8D26\u53F7</h3><p>\u5982\u679C\u8FD0\u884C\u5BB9\u5668\u65F6\u6CA1\u6709\u8BBE\u7F6E\u8D26\u53F7\uFF0Crabbitmq\u4F1A\u7ED9\u6211\u4EEC\u521B\u5EFA\u4E00\u4E2A\u9ED8\u8BA4\u8D26\u53F7\uFF1A<code>guest/guest</code></p><p>\u5982\u679C\u4E0D\u60F3\u7528\u9ED8\u8BA4\u7684<code>guest</code>\uFF0C\u53EF\u4EE5\u5728\u6784\u5EFA\u5BB9\u5668\u65F6\u6307\u5B9A\u5176\u5B83\u8D26\u53F7</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run --name<span class="token operator">=</span>rabbitmq <span class="token punctuation">\\</span>
    -p <span class="token number">15672</span>:15672 -p <span class="token number">5672</span>:5672 <span class="token punctuation">\\</span>
    -e <span class="token assign-left variable">RABBITMQ_DEFAULT_USER</span><span class="token operator">=</span>admin <span class="token punctuation">\\</span>
    -e <span class="token assign-left variable">RABBITMQ_DEFAULT_PASS</span><span class="token operator">=</span>admin <span class="token punctuation">\\</span>
    -d rabbitmq
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><code>-e RABBITMQ_DEFAULT_USER=admin</code> \u9ED8\u8BA4\u8D26\u53F7\u4E3Aadmin</li><li><code>-e RABBITMQ_DEFAULT_PASS=admin</code> \u9ED8\u8BA4\u5BC6\u7801\u4E3Aadmin</li></ul><details class="custom-container details"><summary>\u63D0\u793A</summary><p>\u767B\u5F55\u8FDB\u5165\u63A7\u5236\u53F0\u540E\uFF0C\u53EF\u4EE5\u901A\u8FC7<code>Admin</code>\u83DC\u5355\u6DFB\u52A0\u3001\u66F4\u6539\u8D26\u6237\u4FE1\u606F</p></details><h2 id="\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#\u95EE\u9898" aria-hidden="true">#</a> \u95EE\u9898</h2><p>\u70B9\u51FB<code>Channels</code>\u83DC\u5355\uFF0C\u63D0\u793A<code>Stats in management UI are disabled on this node</code></p><p>\u6216\u8005</p><p>\u70B9\u51FB<code>Exchanges</code>\u83DC\u5355\uFF0C\u968F\u610F\u70B9\u51FB\u4E00\u4E2A<code>exchange name</code>\u63D0\u793A<code>Management API returned status code 500 -</code></p><p>\u89E3\u51B3\u529E\u6CD5\uFF1A \u8FDB\u5165\u5BB9\u5668\uFF0C\u8FDB\u5165<code>/etc/rabbitmq/conf.d</code>\u76EE\u5F55\uFF0C\u4FEE\u6539<code>management_agent.disable_metrics_collector.conf</code>\u6587\u4EF6\u4E2D\u7684<code>management_agent.disable_metrics_collector = false</code>\uFF0C\u7136\u540E\u9000\u51FA\u91CD\u542F\u5BB9\u5668\u5373\u53EF</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u8FDB\u5165\u5BB9\u5668</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it rabbitmq /bin/bash

<span class="token comment"># cd\u5230\u4EE5\u4E0B\u8DEF\u5F84</span>
<span class="token builtin class-name">cd</span> /etc/rabbitmq/conf.d/

<span class="token comment"># \u4FEE\u6539 management_agent.disable_metrics_collector = false</span>
<span class="token builtin class-name">echo</span> management_agent.disable_metrics_collector <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token operator">&gt;</span> management_agent.disable_metrics_collector.conf

<span class="token comment"># \u9000\u51FA\u5BB9\u5668</span>
<span class="token builtin class-name">exit</span>

<span class="token comment"># \u91CD\u542F\u5BB9\u5668</span>
<span class="token function">docker</span> restart rabbitmq
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div>`,31);function c(r,l){return s}var p=n(e,[["render",c]]);export{p as default};
